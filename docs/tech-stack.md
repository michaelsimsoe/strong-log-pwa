**Purpose and Importance of the Tech Stack Document:**
This document formally lists all the chosen technologies, frameworks, libraries, and tools that will be used to build StrongLog V1.0. It includes specific version numbers (or guidance like "latest stable") to ensure consistency in development environments and to provide a clear snapshot of the project's technological foundation. This is crucial for onboarding new developers, managing dependencies, and making future decisions about upgrades or integrations.

We will use the "Tech Stack Template" as a guide. I will recommend specific versions based on "latest stable" as of our current context (May 2025) or well-established LTS versions where applicable.

---

Here is the draft for `docs/tech-stack.md`:

# StrongLog V1.0 Technology Stack

**Version:** 0.1
**Date:** 2025-05-22
**Author:** 3 Arkitekten (AI)

This document outlines the key technologies, frameworks, libraries, and tools selected for the development of the StrongLog V1.0 Progressive Web Application.

## Technology Choices

| Category             | Technology                                   | Version / Details                                    | Description / Purpose                                                                 | Justification (Optional)                                                                                                                                                                 |
| :------------------- | :------------------------------------------- | :--------------------------------------------------- | :------------------------------------------------------------------------------------ | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| **Core Language** | TypeScript                                   | `~5.4.x` (Latest Stable as of early 2025)            | Primary language for application development, providing static typing for robustness. | Enhances code quality, maintainability, and developer experience, especially for complex applications.                                                                                   |
| **Runtime (Dev)** | Node.js                                      | `^20.11.x` (LTS as of early 2025) or `^22.x.x` (Current) | JavaScript runtime for development tooling (Vite, testing, scripts).                | Required for the JavaScript/TypeScript ecosystem and build tools. LTS for stability or Current for latest features.                                                                        |
| **Package Manager** | PNPM                                         | `~9.x.x` (Latest Stable as of early 2025)            | Efficient package management.                                                       | Chosen for its speed and efficient disk space usage via content-addressable store. (Alternatives: npm, Yarn)                                                                           |
| **Frontend Framework**| React                                        | `~18.2.x` or `~18.3.x` (Latest Stable)               | Core UI library for building the PWA.                                                 | Explicit project preference, strong ecosystem, PWA capabilities, and alignment with research findings. |
| **Build Tool & Dev Server**| Vite                                       | `~5.2.x` (Latest Stable as of early 2025)            | Modern frontend build tool and development server.                                  | Superior developer experience (fast HMR, quick startup). Produces optimized production builds using Rollup.                                                              |
| **PWA Tooling** | `vite-plugin-pwa`                            | `~0.19.x` (Latest Stable, compatible with Vite 5)    | Vite plugin for PWA features (manifest, service worker via Workbox).                | Simplifies PWA setup and robust Service Worker generation using Workbox, ensuring app shell caching.                                |
|                      | Workbox (via `vite-plugin-pwa`)              | `~7.x.x` (Integrated by `vite-plugin-pwa`)           | Libraries for robust service worker capabilities.                                   | Provides powerful precaching, runtime caching, and routing for offline support.                                                                                     |
| **Client-Side Database**| IndexedDB                                    | Browser Built-in                                     | Primary local data storage for offline functionality.                               | Mandatory project requirement for client-first data storage.                                                                                                |
|                      | Dexie.js                                     | `~3.2.x` or `~4.0.x` (Latest Stable, check for v4 stability by May 2025) | Wrapper for IndexedDB.                                                                | Simplifies IndexedDB complexities, improves querying, schema management, and developer experience. Strong research recommendation.              |
| **State Management** | Zustand                                      | `~4.5.x` (Latest Stable)                             | Global UI/transient state management.                                               | Simple, hook-based API with minimal boilerplate. Part of recommended hybrid approach.                                                                    |
|                      | `dexie-react-hooks`                          | `~1.1.x` (Latest Stable, compatible with Dexie 3/4)  | Reactive data binding from Dexie.js to React components (useLiveQuery).             | Ensures UI reflects DB changes reactively, minimizing redundant state. Key to the recommended hybrid state strategy.                         |
| **Web Worker Communication**| Comlink                                    | `~4.4.x` (Latest Stable)                             | Library for simplifying Web Worker communication (RPC-style).                       | Strong research recommendation for managing complex interactions with Shared Workers for engines (FRX, FRY, FRZ).                              |
| **Rules Engine (FRX)**| `json-rules-engine`                          | `~6.1.x` (Latest Stable)                             | Client-side rules engine for FRX.                                                   | Recommended by research. JSON rule format, supports async fact resolution crucial for Dexie.js integration in workers.                  |
| **UI Components & Styling**| `shadcn/ui`                                  | `latest` (via CLI `npx shadcn-ui@latest add ...`)    | Collection of reusable, accessible UI components.                                   | User-owned components, highly customizable, built with Tailwind CSS & Radix UI. Aligns with accessibility goals.        |
|                      | Tailwind CSS                                 | `~3.4.x` (Latest Stable)                             | Utility-first CSS framework for styling.                                            | Used by `shadcn/ui`. Enables rapid UI development and small CSS bundles.                                                     |
|                      | Radix UI Primitives                          | (Versioned by `shadcn/ui` components)                | Unstyled, accessible UI primitives.                                                 | Foundation for `shadcn/ui` components, ensuring accessibility.                                                               |
| **Charting Library** | Recharts                                     | `~2.12.x` (Latest Stable)                            | Declarative charting library for React.                                             | React-centric design, good balance of simplicity and power for V1.0 analytics needs, SVG-based interactivity.     |
| **Backend API Style**| REST                                         | N/A                                                  | Architectural style for optional backend sync API.                                  | Simplicity for V1.0 sync, aligns with "last write wins," developer familiarity.                                             |
| **Testing (Unit/Integration)**| Vitest                                     | `~1.5.x` (Latest Stable, compatible with Vite 5)     | Test runner and framework for unit/integration tests.                             | Optimal Vite integration, fast, Jest-compatible API.                                                     |
|                      | React Testing Library                        | `~15.0.x` (Latest Stable)                            | Library for testing React components.                                               | Promotes user-centric testing best practices.                                                                      |
| **Testing (E2E)** | Playwright                                   | `~1.44.x` (Latest Stable as of early 2025)           | End-to-end testing framework.                                                       | Excellent cross-browser support, modern features for PWA testing (offline, service workers).                         |
| **Data Validation** | Zod                                          | `~3.23.x` (Latest Stable)                            | TypeScript-first schema declaration and validation.                               | Ensures runtime data integrity for rules, engine I/O, API contracts; complements TypeScript.                                        |
| **Code Quality** | ESLint                                       | `~8.x.x` or `~9.x.x`                                 | Pluggable linter for JavaScript/TypeScript.                                         | Enforces code quality and consistency.                                                                                                                                                     |
|                      | Prettier                                     | `~3.x.x`                                             | Opinionated code formatter.                                                         | Ensures consistent code style across the project.                                                                                                                                          |
|                      | Husky                                        | `~9.x.x`                                             | Git hooks manager.                                                                  | Automates pre-commit/pre-push checks (linting, formatting, tests).                                                                                                                       |
|                      | lint-staged                                  | `~15.x.x`                                            | Runs linters on staged Git files.                                                   | Improves commit quality by linting/formatting only changed files.                                                                                                                        |

*(Note: Specific minor versions (x) should be set to the absolute latest stable at the time of project initialization and updated carefully. Version ranges are indicative.)*

## Change Log

| Change        | Date         | Version | Description                                      | Author            |
|---------------|--------------|---------|--------------------------------------------------|-------------------|
| Initial draft | 2025-05-22   | 0.1     | Initial draft based on selected technologies. | 3 Arkitekten (AI) |
